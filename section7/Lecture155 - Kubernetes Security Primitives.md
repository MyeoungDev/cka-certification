# Lecture 155 - Kubernetes-Security-Primitives

- 쿠버네티스 보안의 시작은 호스트 보안에서 시작된다.
- 호스트의 보안에 문제가 생기면 클러스트 전체를 노출 킬 수 있기 때문에 중요하다.
    - 루트 접근 비활성화.
    - 비밀번호 기반 인증 종료
    - SSH 키 기반 인증 사용.

## API 서버 접근 제어

- Kube API 서버는 쿠버네티스 운영의 핵심이다
- kubectl 명령줄 도구를 통하든 API 서버 호출을 통해 직접 처리하든 모든 클러스터 상호작용은 Kube API 서버를 거치게 된다.
- 효과적인 액세스 제어는 필수이다.

## Authentication

- Authentication 은 API 서버에 대한 접근 권한을 부여하기 전에 사용자 또는 서비스의 신원을 검증한다.
- 쿠버네티슨느 다양한 보안 요구 사항에 맞춰 다양한 인증 매커니즘을 제공한다.
    - 정적 사용자 ID 및 비밀번호
    - 토큰
    - 클라이언트 인증서
    - 외부 인증 공급자(ex: LDAP) 와의 통합

## Authorization

인증 후 권한 부여는 사용자 또는 서비스가 수행할 수 있는 작업을 결정합니다. 기본 메커니즘인 역할 기반 접근 제어(RBAC)는 ID를 특정 권한과 연결합니다. 쿠버네티스는 또한 다음을 지원합니다.

속성 기반 액세스 제어(ABAC)
노드 권한 부여
웹훅 기반 권한 부여
이러한 메커니즘은 세분화된 액세스 제어 정책을 시행하여 인증된 엔터티가 실행 허가를 받은 작업만 수행할 수 있도록 보장합니다.

## Securing Component Communications

- 쿠버네티스 구성 요소 간의 통신은 TLS 암호화를 통해 구현된다.
- 이를 통해 주요 구성 요소 간에 전송되는 데이터는 기밀로 유지되고 변조 방지된다.
    - etcd 클러스터 내 통신
    - Kube Controller Manager와 Kube Scheduler 간의 상호 작용
    - Kubelet 및 Kube Proxy와 같은 작업자 노드 구성 요소 간의 링크

## Network Policies

- 기본적으로 쿠버네티스 클러스터의 포드는 서로 자유롭게 통신한다.
- 원치 않는 상호작용을 제한하고 보안을 강화하기 위해 네트워크 정책을 제공한다.
    - 특정 포드 간 트래픽 흐름 제어